apiVersion: '2018-10-01'
location: eastus
name: group-runner
type: Microsoft.ContainerInstance/containerGroups
properties:
  containers:
  - name: group-runner
    properties:
      image: armyguy255a/github-runner-gatech:latest
      environmentVariables:
      - name: REG_TOKEN
        secureValue: AAAPN2QGLON5I75G2T3G7F3ET6EU4
      - name: GH_OWNER
        value: pdieppa3
      - name: GH_REPOSITORY
        value: gatech-android-app-sample
      volumeMounts:
      - name: runner-data
        mountPath: /home/docker/actions-runner
      resources:
        requests:
          cpu: 1.0
          memoryInGb: 1.5
  osType: Linux
  restartPolicy: Always
  volumes:
  - name: runner-data
    azureFile:
      shareName: runner-data
      storageAccountName: cs6300grpstorageaccount
      storageAccountKey: myStorageAccountKey
  ipAddress:
    type: Public
    ports:
    - protocol: tcp
      port: '80'
